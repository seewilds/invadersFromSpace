<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- <link rel="stylesheet" href="styles.css" /> -->
</head>

<body>
    <script type="module">
        import { Defender, Battlefield } from './js/game.ts'

        var redGamePiece, blueGamePiece, blueGame2Piece, yellowGamePiece, defender;
        var battlefield = new Battlefield(document.createElement("canvas"), 600, 450, updateGameArea);
        function startGame() {
            // redGamePiece = new component(75, 75, "red", 10, 10);
            // yellowGamePiece = new component(75, 75, "yellow", 50, 60);
            
            defender = new Defender(battlefield.context);
        }

        function component(width, height, color, x, y) {
            this.width = width;
            this.height = height;
            this.x = x;
            this.y = y;
            this.update = function () {
                ctx = battlefield.context;
                ctx.fillStyle = color;
                ctx.fillRect(this.x, this.y, this.width, this.height);
            }
        }

        function updateGameArea() {
            battlefield.Clear();
            defender.Update();
        }

        document.addEventListener('DOMContentLoaded', (event) => {
            startGame();
        });
    </script>

</body>

</html>