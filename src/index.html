<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- <link rel="stylesheet" href="styles.css" /> -->
</head>

<body>
    <script type="module">
        import { Defender,  Battlefield, Invader, Shield } from './js/game.ts'
        import {Crab, Octopus, Squid } from "./js/types.ts"

        var defender, crab, octopus, squid, shield, spaceship;
        var battlefield = new Battlefield(document.createElement("canvas"), 512, 512, updateGameArea);
        function startGame() {
            
            defender = new Defender(4, 245, 512 - 35, battlefield.context);
            crab = new Invader(Crab, "orange", 4,45,45,battlefield.context);
            octopus = new Invader(Octopus, "blue", 4, 90, 45, battlefield.context);
            squid = new Invader(Squid, "red", 4, 140, 45, battlefield.context);

            shield = new Shield(4, 10, 512 - 120, battlefield.context);
            shield = new Shield(4, 128, 512 - 120, battlefield.context);
            shield = new Shield(4, 256, 512 - 120, battlefield.context);
            shield = new Shield(4, 384, 512 - 120, battlefield.context);
            spaceship = new Spaceship(4, 600, battlefield.context);
        }

        function updateGameArea() {
            //battlefield.Clear();
            //defender.Update();
            //crab.Update();
            octopus.Update();
            squid.Update();
            shield.Update();
            spaceship.Update();
        }

        document.addEventListener('DOMContentLoaded', (event) => {
            startGame();
        });
    </script>

</body>

</html>