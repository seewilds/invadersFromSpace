<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- <link rel="stylesheet" href="styles.css" /> -->
</head>

<body>
    <script type="module">
        import { Defender, Octopus, Battlefield, Crab, Squid, Shield, Spaceship } from './js/game.ts'

        var defender, crab, octopus, squid, shield, spaceship;
        var battlefield = new Battlefield(document.createElement("canvas"), 512, 512, updateGameArea);
        function startGame() {
            // redGamePiece = new component(75, 75, "red", 10, 10);
            // yellowGamePiece = new component(75, 75, "yellow", 50, 60);
            
            defender = new Defender(4, 512, battlefield.context);
            crab = new Crab(4, 512, battlefield.context);
            octopus = new Octopus(4, 623, battlefield.context);
            squid = new Squid(4, 745, battlefield.context);
            shield = new Shield(4, 431, battlefield.context);
            spaceship = new Spaceship(4, 600, battlefield.context);
        }

        function component(width, height, color, x, y) {
            this.width = width;
            this.height = height;
            this.x = x;
            this.y = y;
            this.update = function () {
                ctx = battlefield.context;
                ctx.fillStyle = color;
                ctx.fillRect(this.x, this.y, this.width, this.height);
            }
        }

        function updateGameArea() {
            battlefield.Clear();
            defender.Update();
            crab.Update();
            octopus.Update();
            squid.Update();
            shield.Update();
            spaceship.Update();
        }

        document.addEventListener('DOMContentLoaded', (event) => {
            startGame();
        });
    </script>

</body>

</html>